<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <h:outputStylesheet name="css/commentaire.css" />
    <ui:composition template="/template.xhtml">
        <ui:define name="title" >
            <h:outputText value="Comment"></h:outputText>
        </ui:define>

        <ui:define name="content">


            <div class="detailBox" style=" width: 850px;">
                <div class="titleBox">
                    <label>List Des Commentaires</label>

                </div>
                <h:form>
                    <div class="actionBox" >

                        <ul class="commentList" id="commentList">
                            <ui:repeat value="#{posteCoursController.commentaires}" var="Mycom">
                                <li>
                                    <div class="commenterImage">
                                        <h:graphicImage height="30px" name="images/user1.jpg" class="img-circle img-nav-top"/>
                                    </div>
                                    <div class="commentText">
                                        <p class=""> #{Mycom.contenu} </p> <span class="date sub-text"> <h:outputText value="#{Mycom.date}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy" /> </h:outputText> <span class="label label-info">#{Mycom.posteur.login}</span></span>

                                    </div>
                                </li>
                            </ui:repeat>



                        </ul>

                        <div class="form-group" style=" width: 80%;" >

                            <h:inputTextarea id="content-input" style=" width: 100%;"  pt:placeholder="Ajouter un commentaire" class="form-control" value="#{posteCoursController.newCommentaire.contenu}"></h:inputTextarea>
                        </div>

                        <div class="form-group">
                            <h:commandButton  class="btn btn-info" value="Commenter" >
                                <f:ajax execute="content-input" listener="#{posteCoursController.CreateCommentaire}" render="@form" />
                            </h:commandButton>
                        </div>
                    </div>
                </h:form>
            </div>


        </ui:define>
    </ui:composition>

</html>




